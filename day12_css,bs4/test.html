<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê·€ì—¬ìš´ Todo List</title>
    <!-- jQuery ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
        /* ì „ì²´ ë°°ê²½ ìƒ‰ìƒ ë° í°íŠ¸ ì„¤ì • */
        body {
            font-family: 'Comic Sans MS', sans-serif;
            background-color: #fff5f8;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        /* Todo List ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        .todo-container {
            background-color: #ffebf3;
            border-radius: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            padding: 20px;
            width: 500px;
            text-align: center;
        }

        /* ì…ë ¥ì°½ê³¼ ë²„íŠ¼ì„ ê°ì‹¸ëŠ” ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        .input-container {
            display: flex;
            align-items: center; /* ì„¸ë¡œ ì •ë ¬ì„ ê°€ìš´ë°ë¡œ ë§ì¶¤ */
        }

        /* ì œëª© ìŠ¤íƒ€ì¼ */
        h1 {
            color: #ff78a8;
            font-size: 24px;
            margin-bottom: 20px;
        }

        /* ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
        #title {
            width: calc(100% - 40px); /* ì…ë ¥ì°½ì˜ ë„ˆë¹„ë¥¼ ì„¤ì • (ë²„íŠ¼ í¬ê¸° ì œì™¸) */
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffc0cb;
            outline: none;
            font-size: 16px;
            flex: 1; /* ì…ë ¥ì°½ì´ ë‚¨ëŠ” ê³µê°„ì„ ì±„ìš°ë„ë¡ ì„¤ì • */
        }

        /* ê¸°ë³¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        button {
            background-color: #ff78a8;
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-size: 16px;
            padding: 8px 15px;
            margin-left: 10px; /* ì…ë ¥ì°½ê³¼ ë²„íŠ¼ ì‚¬ì´ì˜ ê°„ê²© ì¶”ê°€ */
        }

        /* ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        ul {
            list-style-type: none; /* ê¸°ë³¸ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ ì œê±° */
            padding-left: 0;
        }

        /* ê° ì•„ì´í…œ ìŠ¤íƒ€ì¼ */
        li {
            background-color: #ffe6f0;
            border-radius: 10px;
            margin-bottom: 10px;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* ì™„ë£Œëœ í•­ëª©ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ */
        .done {
            text-decoration: line-through; /* ì™„ë£Œëœ í•­ëª©ì€ ì·¨ì†Œì„  í‘œì‹œ */
            color: #cfcfcf; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë³€ê²½ */
        }

        /* ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .checkBox {
            margin-right: 10px; /* ì²´í¬ë°•ìŠ¤ì™€ í…ìŠ¤íŠ¸ ì‚¬ì´ ê°„ê²© ì¶”ê°€ */
            transform: scale(1.5); /* ì²´í¬ë°•ìŠ¤ í¬ê¸° í™•ëŒ€ */
        }

        /* ì‚­ì œ ë° í¸ì§‘ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .editBtn, .delBtn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            margin-left: 5px; /* ì‚­ì œ ë° í¸ì§‘ ë²„íŠ¼ ì‚¬ì´ì— ê°„ê²© ì¶”ê°€ */
        }
    </style>
</head>

<body>
    <div class="todo-container">
        <h1>Todo List</h1>
        <!-- ì…ë ¥ì°½ê³¼ ë²„íŠ¼ì„ ê°ì‹¸ëŠ” ì»¨í…Œì´ë„ˆ -->
        <div class="input-container">
            <input type="text" id="title" placeholder="í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
            <button id="saveBtn">â•</button>
        </div>
        <ul id="listArea"></ul>
    </div>

    <script>
        var cnt = 1; // ì•„ì´í…œ ë²ˆí˜¸ë¥¼ ê´€ë¦¬í•˜ëŠ” ë³€ìˆ˜

        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ Todo Listë¥¼ ë¶ˆëŸ¬ì™€ í™”ë©´ì— ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜
        function loadTodoList() {
            const savedTodos = localStorage.getItem('todoList');
            if (savedTodos) {
                const todos = JSON.parse(savedTodos);
                todos.forEach(todo => {
                    addTodoElement(todo.no, todo.title, todo.done);
                });
                cnt = todos.length + 1; // ë§ˆì§€ë§‰ ì•„ì´í…œ ë²ˆí˜¸ ë‹¤ìŒìœ¼ë¡œ cnt ì„¤ì •
            }
        }

        // í˜„ì¬ í™”ë©´ì˜ Todo Listë¥¼ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ëŠ” í•¨ìˆ˜
        function saveTodoList() {
            const todos = [];
            $('#listArea li').each(function () {
                const no = $(this).data('no');
                const title = $(this).find('span').text();
                const done = $(this).find('.checkBox').prop('checked');
                todos.push({ no, title, done });
            });
            localStorage.setItem('todoList', JSON.stringify(todos));
        }

        // ìƒˆë¡œìš´ Todo ì•„ì´í…œì„ í™”ë©´ì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜
        function addTodoElement(no, title, done) {
            const doneClass = done ? 'done' : ''; // ì™„ë£Œëœ í•­ëª©ì´ë©´ 'done' í´ë˜ìŠ¤ ì¶”ê°€
            const checked = done ? 'checked' : ''; // ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë°˜ì˜
            $('#listArea').append(`<li data-no="${no}">
                <input type="checkbox" class="checkBox" ${checked}/>
                <span class="${doneClass}">${title}</span>
                <div>
                    <button class="editBtn">ğŸ–‹ï¸</button>
                    <button class="delBtn">ğŸ—‘ï¸</button>
                </div>
            </li>`);
        }

        $(function () {
            loadTodoList(); // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ì¡´ Todo List ë¶ˆëŸ¬ì˜¤ê¸°

            // ì €ì¥ ë²„íŠ¼ í´ë¦­ ì‹œ ìƒˆë¡œìš´ ì•„ì´í…œ ì¶”ê°€
            $('#saveBtn').on('click', function () {
                if ($('#title').val()) { // ì…ë ¥ì°½ì´ ë¹„ì–´ìˆì§€ ì•Šìœ¼ë©´
                    addTodoElement(`10${cnt++}`, $('#title').val(), false);
                    $('#title').val(""); // ì…ë ¥ì°½ ì´ˆê¸°í™”
                    saveTodoList(); // ë³€ê²½ëœ Todo List ì €ì¥
                } else {
                    alert("í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”!"); // ì…ë ¥ì°½ì´ ë¹„ì–´ìˆì„ ë•Œ ê²½ê³ ì°½ í‘œì‹œ
                    $('#title').focus(); // ì…ë ¥ì°½ì— í¬ì»¤ìŠ¤ ì´ë™
                    return;
                }
            });

            // ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì‹œ í•´ë‹¹ ì•„ì´í…œ ì‚­ì œ
            $('#listArea').on('click', 'button.delBtn', function () {
                $(this).parent().parent().remove();
                saveTodoList(); // ì‚­ì œ í›„ Todo List ì €ì¥
            });

            // ìˆ˜ì • ë²„íŠ¼ í´ë¦­ ì‹œ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥ì°½ìœ¼ë¡œ ë³€ê²½
            $('#listArea').on('click', 'button.editBtn', function () {
                const $li = $(this).parent().parent();
                const currentText = $li.find('span').text();
                $li.find('span').replaceWith(`<input type="text" class="editInput" value="${currentText}"/>`);
                $(this).text('âœ”ï¸').removeClass('editBtn').addClass('saveBtn');
            });

            // ìˆ˜ì • ì™„ë£Œ ë²„íŠ¼ í´ë¦­ ì‹œ í…ìŠ¤íŠ¸ë¡œ ë³€ê²½
            $('#listArea').on('click', 'button.saveBtn', function () {
                const $li = $(this).parent().parent();
                const newText = $li.find('.editInput').val();
                $li.find('.editInput').replaceWith(`<span>${newText}</span>`);
                $(this).text('âœ').removeClass('saveBtn').addClass('editBtn');
                saveTodoList(); // ìˆ˜ì • í›„ Todo List ì €ì¥
            });

            // ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë³€ê²½ ì‹œ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ ë³€ê²½
            $('#listArea').on('change', '.checkBox', function () {
                const $li = $(this).parent();
                if (this.checked) {
                    $li.find('span').addClass('done'); // ì²´í¬ë˜ë©´ ì·¨ì†Œì„  ì ìš©
                } else {
                    $li.find('span').removeClass('done'); // ì²´í¬ í•´ì œ ì‹œ ì·¨ì†Œì„  ì œê±°
                }
                saveTodoList(); // ë³€ê²½ í›„ Todo List ì €ì¥
            });
        });
    </script>
</body>

</html>
