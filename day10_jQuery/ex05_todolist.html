<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
    <h1>Todo List</h1>
    할 일: <input type="text" id="title" value="코딩하기">
    <button id="saveBtn">SAVE</button>
    <hr />
    <ul id="listArea"></ul>

    <script>
        const todoList = [
            {no:101, title:"coding", done: false},
            {no:102, title:"clearning", done: false},
            {no:103, title:"study", done: false},
        ];

        // $(document).ready(function() {})의 축약 형태
        var cnt = 1;
        $(function () {
            $('#saveBtn').on('click', function () {
                // $('body').css('background', 'pink');
                // innerHTML 속성 = .html() 함수
                // innerText 속성 = .text() 함수
                // value 속성 = .val() 함수
                // alert($('#title').val());

                // input에서 읽어온 textfmf listArea에 추가
                // jQuery append() 함수 사용 - 문자열을 즉시 DOM으로 변경 가능
                if ($('#title').val()) {
                    $('#listArea').append(`<li data-no="10${cnt++}">
                        <input type="checkbox"/>
                        <span>${$('#title').val()}</span>
                        <button class="dsitBtn">EDIT</button>
                        <button class="delBtn">DELETE</button>
                    </li>`);
                    $('button.delBtn').on('click', function (e) {
                        // e.target은 Dom
                        // $(e.target)은 jQuery 객체
                        // console.log(e.target.parentElement);
                        console.log($(e.target).parent().find('span').text());
                        console.log($(e.target).parent().data('no'));
                        // css("color") 인자를 하나만 쓰면 getter
                        // css("color", "orange") 인자를 두개 쓰면 setter
                        // attr("name") getter
                        // attr("name", "hello") settr
                    });
                    // 요소가 생성된 후에 이벤트 핸들러 추가해야 함
                    $('#title').val("");
                } else {
                    alert("내용을 입력하세요");
                    $('#title').focus();
                    return;
                }
            });
        });
    </script>
</body>

</html>